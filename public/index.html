<!DOCTYPE html>
<html lang="en">
  <head>
    <title>London City Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Serif+Pro" rel="stylesheet">
    <link rel="icon" type="../image/png" href="%PUBLIC_URL%/favicon.ico" sizes="32x32" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd"
        crossorigin="anonymous">
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <div class="container-fluid">

      <!--Heading and Description Start-->
      <div class="row">
          <div class="col-sm-8 col-sm-offset-2">
              <div class="main-heading text-center">
                  <h1>London - City Dashborad</h1>
                  <p>
                      The London Dashboard is a free and open data-sharing portal where anyone can access data relating to the capital. Whether
                      you're a citizen, business owner, researcher or developer, the site provides over 700 datasets to help
                      you understand the city and develop solutions to London's problems.
                  </p>
              </div>
          </div>
      </div>
      <!--End Heading Description -->

      <!--Start graph cards-->
      <div class="row row-card">
          <div class="col-sm-3">
              <div class="background-card card-green card-height">
                  <h2>Economy</h2>
                    <div class="info">
                      <span>4.5%</span> <br>
                      <h4>Unemployment rate in November 2018</h4>
                    </div>

                  <p>Data are sourced from the London Datastore.</p>
              </div>
          </div>
          <div class="col-sm-3">
              <div class="card card-height">
                  <div class="card-header card-green">
                    Gross Value Added (GVA)
                  </div>
                  <div class="card-body">
                    <div class="content-top">
                      <h4>London GVA per capita</h4>
                      <p>Estimates of GVA per head from 1997</p>
                    </div>
                    <div class="content-main">
                      <div class="react-me" data-type="data-views" id="gva"></div>
                    </div>
                    <div class="content-bottom">
                      <p><a href="https://datahub.io/london/gva/r/gva.csv">Download raw data</a></p>
                      <p>Source: <a href="https://data.london.gov.uk/" target="_blank">London Datastore</a></p>
                    </div>
                  </div>
              </div>
          </div>
          <div class="col-sm-3">
              <div class="card card-height">
                  <div class="card-header card-green">
                    Unemployment rate
                  </div>
                  <div class="card-body">
                    <div class="content-top">
                      <h4>London unemployment rate</h4>
                      <p>From 2009 to current</p>
                    </div>
                    <div class="content-main">
                      <div class="react-me" data-type="data-views" id="unemployment"></div>
                    </div>
                    <div class="content-bottom">
                      <p><a href="https://datahub.io/london/unemployment/r/unemployment-rate.csv">Download raw data</a></p>
                      <p>Source: <a href="https://data.london.gov.uk/" target="_blank">London Datastore</a></p>
                    </div>
                  </div>
              </div>
          </div>
          <div class="col-sm-3">
              <div class="card card-height">
                  <div class="card-header card-green">
                    Population
                  </div>
                  <div class="card-body">
                    <div class="content-top">
                      <h4>Population projections</h4>
                      <p>From 2001 to 2050</p>
                    </div>
                    <div class="content-main">
                      <div class="react-me" data-type="data-views"></div>
                    </div>
                    <div class="content-bottom">
                      <p><a href="https://datahub.io/london/population/r/population.csv">Download raw data</a></p>
                      <p>Source: <a href="https://data.london.gov.uk/" target="_blank">London Datastore</a></p>
                    </div>
                  </div>
              </div>
          </div>
      </div>

    </div>

    <script>
      var config = {
        widgets: [
          {
            elementId: 'gva',
            view: {
              metadata: {},
              resources: [
                {datasetId: 'gva', name: 'gva', transform: []}
              ],
              specType: 'vega',
              spec: {
                "$schema": "https://vega.github.io/schema/vega/v3.json",
                "width": 228,
                "height": 160,
                "padding": 0,
                "data": [
                  {
                    "name": "gva",
                    "format": {
                      "parse": {
                        "Year": "date"
                      }
                    },
                    "transform": [
                      {
                        "type": "filter",
                        "expr": "datum['Region name'] == 'London'"
                      }
                    ]
                  }
                ],
                "scales": [
                  {
                    "name": "x",
                    "type": "utc",
                    "range": "width",
                    "domain": {
                      "data": "gva",
                      "field": "Year"
                    }
                  },
                  {
                    "name": "value",
                    "type": "linear",
                    "range": "height",
                    "zero": false,
                    "domain": {
                      "data": "gva",
                      "field": "Value"
                    }
                  }
                ],
                "axes": [
                  {
                    "orient": "bottom",
                    "scale": "x",
                    "labelFont": "Lato",
                    "format": "%Y",
                    "domain": false,
                    "ticks": false,
                    "labelPadding": 10
                  },
                  {
                    "orient": "right",
                    "scale": "value",
                    "labelFont": "Lato",
                    "format": "s",
                    "grid": true,
                    "domain": false,
                    "ticks": false,
                    "title": "GBP",
                    "titleFontWeight": "light"
                  }
                ],
                "marks": [
                  {
                    "type": "line",
                    "from": {"data": "gva"},
                    "encode": {
                      "enter": {
                        "x": {"scale": "x", "field": "Year"},
                        "y": {"scale": "value", "field": "Value"},
                        "strokeWidth": {"value": 2},
                        "stroke": {"value": "#A95F6D"}
                      }
                    }
                  }
                ]
              }
            }
          }
        ],
        datasets: ['https://github.com/datasets/london-gva']
      }
    </script>
  </body>
</html>
